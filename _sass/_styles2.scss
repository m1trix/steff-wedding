@import "./_base.sass";

.galery {
  $padding: 0.25rem;
  &.container {
    width: 100%;
    padding: $padding;
  }

  &.image {
    @function width($parts) {
      @return calc((min(100%, #{$SCREEN-PC}) - #{2 * $padding}) / #{$parts} - #{2 * $padding});
    }

    @function height($parts) {
      @return calc(min(100vw, #{$SCREEN-PC}) / #{$parts} * #{$WIDESCREEN-RATIO});
    }

    float: left;
    margin: $padding;
    position: relative;
    overflow: hidden;
    width: width(4);
    height: height(4);

    @include on-pc {
      width: width(4);
      height: height(4);
    }

    @include on-tablet {
      width: width(3);
      height: height(3);
    }

    @include on-phone {
      width: width(2);
      height: height(2);
    }

    &::before {
      content: "";
      @include fill(1);
      outline: 2rem solid black;
      outline-offset: -1rem;
      filter: blur(1rem) opacity(0);
      @include animate(filter);
    }

    &:hover {
      &::before {
        filter: blur(1rem) opacity(1);
      }

      img {
        transform: scale(1);
      }

      .title {
        color: white;
      }
    }

    & img {
      width: 100%;
      height: 100%;
      object-position: center;
      object-fit: cover;
      transform: scale(1.1);
      @include animate(transform);
    }

    & .title {
      $font-coef: 0.07;
      position: absolute;
      z-index: 2;
      bottom: 0px;
      width: calc(100% - 1rem);
      display: block;
      text-align: center;
      font-size: calc(#{$SCREEN-PC} / 4 * #{$font-coef});
      background-color: #000000aa;
      padding: 0.5rem;
      @include animate(color);

      @include on-pc {
        font-size: calc(25vw * #{$font-coef});
      }

      @include on-tablet {
        font-size: calc(33vw * #{$font-coef});
      }

      @include on-phone {
        font-size: calc(50vw * #{$font-coef});
      }
    }
  }
}

.dress {
  &.container {
    @include layout;
    display: flex;
    flex-direction: row;

    @include on-tablet {
      flex-direction: column;
    }
  }

  &.text {
    padding: 0.5rem;
    width: calc(#{$PAGE-W} / 3 - 1rem);
    display: block;

    @include on-tablet {
      width: 100%;
    }
  }

  &.images {
    display: block;
    width: calc(2 * #{$PAGE-W} / 3);

    @include on-tablet {
      width: 100%;
    }

    & img {
      width: 100%;
    }
  }
}
